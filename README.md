# ComputerGraphics
컴퓨터 그래픽스 정리 자료 입니다.        

Render의 기본 의미는 무엇인가를 지금과 다른 어떤 상태로 만든다는 뜻입니다.               

음악에서 연주자가 악보에 있는 기록된 음악을 연주자 자신만의 기술과 감성으로 표현(연주)하는 것을 렌더링이라고 부릅니다.            
마찬가지로 작곡 프로그램에서 화면 상 악보에 기보된 대로 실제 들을 수 있는 음악을 추출하는 작업도 렌더링이라고 부릅니다.         

일반적으로는 잘 쓰이지 않는 단어지만 음악하는 사람들에게 아주 친숙한 용어입니다.             
요리에서 동물의 지방에서 기름을 추출하는 것도 렌더링이라고 부릅니다.       

# 3D 형상 제작 과정         
3D 형상 제작 과정은 모델링(Modeling)과 렌더링 과정으로 나뉩니다.             
모델링은 기본적인 골격을 만드는 과정이라면, 랜더링은 그 골격 표면을 처리하는 과정이라고 할 수 있습니다.           
 - 투영(Projection) : 3차원 오브젝트를 2차원 스크린에 비추는 과정을 말합니다.       
 - 클리핑(Clipping) : 디스플레이 밖(모니터 또는 윈도우 창에 나오지 않는 부분)의 오브젝트 부분(보이지 않는 부분)을 처리하는 과정을 말합니다.       
 - 은면처리(Hidden Surface) : 오브젝트의 보이는 부분과 보이지 않는 부분을 처리하는 과정을 말합니다.        
 - 셰이딩(Shading) : 음영, 조명 빛, 광원의 빛, 반사광, 투명한 효과 등을 처리하는 과정을 말합니다.        
 - 매핑(Mapping) : 오브젝트의 표면에 텍스처등을 씌워 질감과 반사된 풍경 등을 처리하는 과정을 말합니다.     
 
 이중 셰이딩과 매핑은 그 특성상 서로 겹치는 경우가 많습니다.     
 
 해외에서는 영화 촬영과 동시에 레이트레이싱 렌더링이 이루어지는 기법을 적용한 단편 영화가 나왔습니다.          
 제작 영상은 VRay를 이용했는데, 실시간 레이트레이싱 뷰포트는 프로그램 자체가 지원하는 경우가 있으므로 별로 신기할 것은 없습니다.      
 보통 그 뷰포트는 미리보기로만 쓰입니다.        
 실제 렌더링은 이후에 오랜 시간을 걸쳐 이루어집니다.      
 광선 추적을 적게 하면 출력에 노이즈가 생기며, 당장 영상 속 카메라를 보아도 화면에 자글자글한 점들이 보입니다.        
 그래서 노이즈를 없애려면 광선의 개수를 높여야하는데, 이렇게 되면 사진 하나를 렌러딩하는 데에도 고사양 CPU나 쿼드급 GPU급 CPU에 수 분에서 수십 분이 걸리는 경우가 많습니다.      
 제대로 된 영화급이면 프레임당 수십시간이 걸리기도 합니다.
 
# 셰이딩의 종류
 셰이딩의 경우 조명에 의한 구현 방식에 따라 크게 지역 조명(Local IIumination)과 전역 조명 방식(Global Illumination)으로 나뉩니다.    
 
# 지역 조명 방식 (Local Illumination)       
 주로 게임에서 쓰이는 방식으로 빛 하나를 환경광, 난반사광, 정반사광으로 나누어 각각 계산한 다음 한 장면으로 출력합니다.        
 
# 플랫 셰이딩(Flat Shading)          
 가장 단순한 셰이딩 방식입니다.         
 그냥 폴리곤 그대로 다각형 면을 채운다 보면 됩니다.             
 와이어프레임에 그대로 색만 입혔기 때문에 렌더링하면 왼쪽(Flat Shading)과 같은 투박한 모양이 나옵니다.        
 단순하기 때문에 렌더링 속도는 빠르지만 사실적이지 않아서 주로 프로토타입 작업에 많이 쓰입니다.          
 
# 고러드 셰이딩 (Gouraud Shading)        
 플랫 셰이딩보다 발전된 방식입니다.         
 빛이 비춰지는 면들의 평균적인 명암을 계산해서 부드럽게 적용시켜줍니다.      
 플랫 셰이딩처럼 각져보이진 않지만 퐁 셰이딩처럼 하이 라이트나 반사광을 표현하진 못해 표면이 밋밋해 보이는 단점이 있습니다.      
 렌더링 속도도 플랫과 퐁 사이 중간 정도입니다.        
 
# 퐁 셰이딩 (Phong Shading)          
 퐁 셰이딩은 화소별로 색을 계산하여 하이라트와 반사광을 표혀할 수 있지만 계산 시간이 고러드 셰이딩보다는 거의 2배 이상 걸릴 정도로 오래 걸립니다.       
 
# 스킨 셰이딩 (Skin Shading)        
 사람의 피부에 가까운 효과를 내는 셰이딩 방식입니다.         
 반투명한 효과를 위해 표면 밑 산란(Sub-Surface Scattering) 기술을 이용합니다.          
 
# 앰비언트 오클루젼(Ambient Occlusion)            
 앰비언트 오쿨루젼의 종류는 SSAO등 여러가지가 있습니다.           
 지역 조명 방식의 근본적 한계로 색을 입히고 셰이딩을 하여 현실적으로 만드는 것이기 때문에 반사와 산란, 간접광에 취약합니다.          
 지역 조명 방식에서는 빛의 반사와 산란이 일어나지 않아 게임 개발 등지에서는 거울이나 간접광을 만들 때 반사 텍스처나 간접광을 일일이 배치해야 합니다.        
 수준 높은 게임 엔진은 그 과정을 한번에 할 수 있게 하겠지만, 기본적으로 저 과정이 모두 들어가 있습니다.         
 물론 이런 단점이 있는데도 왜 쓰는가 하면, 레이트레이싱에 비하면 연산량이 없다고 봐도 무방하기 때문입니다.         
 
# 기타         
 그리고 그 외에도, 스무스 셰이딩(Smooth Shading), 애니소트로픽 셰이딩(Anisotropic Shading), 블린 셰이딩(Blinn Shading), 메탈 세이딩(Metal Shading), 카툰 셰이딩(Cartoon Shading)과 같은 여러 지역 조명 방식 기반의 셰이딩 방식들이 있습니다.     
 
# 전역 조명 방식(Global Illumination)      
 빛은 어떤 사물에 닿았을 때 반사가 이뤄집니다.             
 이때 빛이 어느 정도의 반사가되느냐를 결정하는 것으로 정반사와 난반사가 있습니다.          
 정반사된 빛은 사물의 질감을 표현하며 난반사된 빛은 사물의 색을 표현합니다.        
 또한 정반사가 옅어지며 난반사로 변하게 됩니다.        
 조명 방식(Illumination)이란 이런 과정을 수학적으로 계산하여 표현하는 모델입니다.         
 전역 조명 방식(Global Illumination)은 줄여서 CI라고도 부르는 것으로, 특정 장면에 있는 모든 물체의 질감과 색, 빛을 통틀어 계산하여 표현하는 것입니다.       
 GI는 엄청난 자원이 소모되기 때문에 그만큼 렌더링 시간이 오래 걸리며, 대부분의 게임에서는 비실시간 구현을 통한 성능 최적화 등을 통해 적항히 쓰입니다.     
 반면 전역 조명을 실시간으로 제대로 구현하는 기법은 대표적으로 레이트레이싱(Ray Tracing)이 있습니다.      
 
# 레이트레이싱 영상          
[레이트레이싱 영상](https://www.youtube.com/watch?v=bYl7N4U-JMI)        

# Reference
[렌더링 나무 위키](https://namu.wiki/w/%EB%A0%8C%EB%8D%94%EB%A7%81)     

